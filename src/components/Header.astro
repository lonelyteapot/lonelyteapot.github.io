---
import HeaderNavLink from "./HeaderNavLink.astro";
import HeaderSocialLink from "./HeaderSocialLink.astro";

import { HEADER_TITLE, HEADER_TAGLINE, HEADER_USERNAME, SOCIAL_LINKS, NAV_ITEMS } from "../config";
---

<header id="header">
    <div id="intro">
        <h1 class="name">{HEADER_TITLE}</h1>
        <p class="title">{HEADER_TAGLINE}</p>
        <div class="links">
            {SOCIAL_LINKS.map((link) => <HeaderSocialLink link={link} />)}
        </div>
    </div>
    <div id="header-row">
        <a id="header-logo" href="/">@{HEADER_USERNAME}</a>
        <nav id="header-nav">
            {NAV_ITEMS.map((item) => <HeaderNavLink url={item.url} title={item.title} />)}
        </nav>
    </div>
</header>

<style lang="scss">
    @use "sass:color";
    @import "../styles/variables.scss";

    #header {
        grid-area: header;
        display: grid;
        grid-template:
            ". intro ." 1fr
            ".  nav  ." #{$header-height}
            / 1fr minmax(auto, 900px) 1fr;
        min-height: $full-header-height;
        position: sticky;
        top: calc(#{$header-height} - #{$full-header-height});
        z-index: 10;
        background-color: $primary-color;
        box-shadow: 0 2px 5px rgb(0 0 0 / 26%);
    }

    #header-row {
        grid-area: nav;
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
        overflow-y: hidden;
        color: color.scale($color-on-primary, $alpha: -8%);
    }

    #header-logo {
        order: 1;
        padding: 0 12px;
        font-family: "Work Sans", sans-serif;
        font-size: 1.125rem;
        color: inherit;
        text-decoration: none;
    }

    #header-nav {
        display: flex;
        white-space: nowrap;
        height: 100%;
        font-size: 14px;
        font-family: $header-font;
    }

    #header-row :global(a) {
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding: 0 16px;
        transition-property: background-color;
        transition-duration: 200ms;

        &.active,
        &:hover {
            background-color: rgb(0 0 0 / 9%);
        }
    }

    #intro {
        grid-area: intro;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
        gap: 24px;
        padding: 16px;
        color: $color-on-primary;

        .name {
            margin: 0 0 0 -8px;
            line-height: 0.8;
            font-size: calc(min(10vw, 4.5rem));
        }

        .title {
            margin: 0;
            font-size: 1.5rem;
        }

        .links {
            --icon-size: 1.625rem;

            display: flex;
            justify-content: space-between;
            justify-self: stretch;
            align-items: center;
            align-self: flex-start;
            gap: 1em;
        }
    }
</style>
